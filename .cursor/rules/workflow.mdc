---
alwaysApply: true
---

## 工作流程规则

### 决策原则
当遇到不确定的问题时，由用户做决定，不自行猜测或假设。

### 逻辑自洽原则
- 确保所有决策和操作前后一致
- 在做出新决策时，必须考虑与之前决策的一致性
- 如果发现逻辑冲突，需要及时识别并向用户说明，寻求解决方案
- 所有技术决策和实现方案应该相互协调，不产生矛盾

### 颗粒度对齐原则
- 计划的分解粒度必须与用户提出的需求粒度对齐
- **粒度判断标准**: 按用户明确指定的层次来判断需求粒度
- **粒度层级确定**: 由 AI 根据具体需求来判断层级，并由用户确认
- **计划确认流程**: 先给出计划，由用户确认是否需要调整粒度
- 如果用户提出的是高层次需求，计划应该保持相应的抽象层次
- 如果用户提出的是具体实现细节，计划应该深入到相应的技术细节
- 在制定计划前，需要先理解用户需求的粒度，然后匹配相应的计划粒度
